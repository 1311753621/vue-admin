(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1785"],{"45d2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",[a("el-header",[a("div",{staticClass:"leftdiv"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/index"}}},[t._v("首页")]),a("el-breadcrumb-item",[t._v("数据管理")]),a("el-breadcrumb-item",[t._v("用户列表")])],1)],1),a("div",{staticClass:"rightdiv"},[a("el-dropdown",[a("img",{staticClass:"avator",attrs:{src:"//elm.cangdu.org/img/default.jpg"}}),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[a("el-dropdown-item",[t._v("首页")]),a("el-dropdown-item",[t._v("退出")])],1)],1)],1)]),a("el-main",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{type:"index",label:"#",width:"80"}}),a("el-table-column",{attrs:{prop:"registe_time",label:"注册日期",width:"280"}}),a("el-table-column",{attrs:{prop:"username",label:"用户姓名",width:"280"}}),a("el-table-column",{attrs:{prop:"city",label:"注册地址",width:"80"}})],1),a("el-pagination",{attrs:{"current-page":t.pagenum,"page-size":10,layout:"total, prev, pager, next",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.pagenum=e},"update:current-page":function(e){t.pagenum=e}}})],1)],1)],1)},r=[],i=(a("b4fb"),a("6a61"),a("2e91")),s=(a("4ec3"),{data:function(){return{tableData:[],pagenum:1,limit:10,total:0,offset:0}},created:function(){},mounted:function(){this.userlist(),this.getUserCount()},methods:{handleSizeChange:function(t){console.log("".concat(val))},handleCurrentChange:function(t){this.pagenum=t,this.offset=(t-1)*this.limit,this.userlist()},userlist:function(){var t=this;this.$http.get("/v1/users/list?offset=".concat(this.offset,"&limit=").concat(this.limit)).then((function(e){t.tableData=e.data}))},getUserCount:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$http.get("/shopping/restaurants/count");case 3:a=e.sent,n=a.data,1==n.status?t.total=n.count:t.$message.error("获取数据失败"),t.userlist(),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log("获取数据失败");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}}),l=s,o=a("c701"),c=Object(o["a"])(l,n,r,!1,null,"16ba1b9c",null);e["default"]=c.exports}}]);